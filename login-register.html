<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<title>Connexion / Inscription - Craftpick Network</title>
<style>
  body {margin:0;padding:0;font-family:Inter,Arial,sans-serif;background:linear-gradient(160deg,#0f1724,#0b1220);color:#e6eef8;display:flex;align-items:center;justify-content:center;height:100vh;}
  .container {background:rgba(255,255,255,0.05);padding:30px;border-radius:12px;width:360px;box-shadow:0 0 20px rgba(0,0,0,0.5);}
  h1 {text-align:center;margin-bottom:20px;background:linear-gradient(90deg,#6366f1,#ec4899);-webkit-background-clip:text;-webkit-text-fill-color:transparent;}
  form {display:flex;flex-direction:column;gap:12px;}
  input {padding:10px;border-radius:8px;border:1px solid rgba(255,255,255,0.1);background:transparent;color:#e6eef8;}
  button {padding:10px;border:none;border-radius:8px;background:linear-gradient(90deg,#6366f1,#ec4899);color:white;font-weight:600;cursor:pointer;transition:transform .2s ease;}
  button:hover {transform:scale(1.05);}
  .switch {text-align:center;margin-top:10px;color:#9aa4b2;cursor:pointer;font-size:14px;}
  .notify {position:fixed;bottom:20px;right:20px;background:#081022;padding:10px 14px;border-radius:10px;border:1px solid rgba(255,255,255,0.03);display:none;}
</style>
</head>
<body>

<div class="container" id="formContainer">
  <h1>Connexion</h1>
  <form id="loginForm">
    <input type="text" name="user" placeholder="Pseudo" required>
    <input type="password" name="pass" placeholder="Mot de passe" required>
    <button type="submit">Se connecter</button>
  </form>
  <div class="switch" id="toRegister">Pas encore inscrit ? Crée un compte</div>
</div>

<div class="notify" id="notify">Message</div>

<script>
const formContainer = document.getElementById('formContainer');
const notify = document.getElementById('notify');

// Fonction notification
function showNotify(msg){ notify.textContent = msg; notify.style.display='block'; setTimeout(()=>notify.style.display='none',2400); }

// Afficher formulaire inscription
document.getElementById('toRegister').addEventListener('click',()=>{
  formContainer.innerHTML=`
    <h1>Inscription</h1>
    <form id="registerForm">
      <input type="text" name="user" placeholder="Pseudo" required>
      <input type="email" name="email" placeholder="Email (optionnel)">
      <input type="password" name="pass" placeholder="Mot de passe" required>
      <input type="password" name="pass2" placeholder="Confirme le mot de passe" required>
      <button type="submit">Créer un compte</button>
    </form>
    <div class="switch" id="toLogin">Déjà inscrit ? Connexion</div>
  `;

  document.getElementById('toLogin').addEventListener('click',()=>{ location.reload(); });

  // Gestion inscription simulée
  document.getElementById('registerForm').addEventListener('submit', e=>{
    e.preventDefault();
    const f = new FormData(e.target);
    if(f.get('pass') !== f.get('pass2')){ showNotify('Les mots de passe ne correspondent pas'); return; }
    localStorage.setItem('cp_user', f.get('user'));
    showNotify('Compte créé ! Redirection...');
    setTimeout(()=>{ window.location.href = "index.html"; },1200);
  });
});

// Gestion login simulé
document.getElementById('loginForm').addEventListener('submit', e=>{
  e.preventDefault();
  const f = new FormData(e.target);
  localStorage.setItem('cp_user', f.get('user'));
  showNotify('Connecté ! Redirection...');
  setTimeout(()=>{ window.location.href = "index.html"; },1200);
});
</script>

</body>
</html>
