<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Craftpick Network - Serveur Minecraft 1.8.8</title>
    <style>
        * { margin:0; padding:0; box-sizing:border-box; }
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: #fff; min-height: 100vh; overflow-x:hidden;
        }
        nav {
            background: rgba(0,0,0,0.3); backdrop-filter: blur(10px);
            padding:1rem 2rem; display:flex; justify-content:space-between; align-items:center;
            position: sticky; top:0; z-index:1000;
            box-shadow: 0 4px 20px rgba(0,0,0,0.2);
        }
        .logo { font-size:1.8rem; font-weight:bold; background: linear-gradient(45deg,#ffd700,#ffed4e); -webkit-background-clip:text; -webkit-text-fill-color:transparent; text-shadow:0 0 30px rgba(255,215,0,0.5);}
        .nav-links { display:flex; gap:1rem; align-items:center; }
        .nav-links a, .nav-links button { color:#fff; text-decoration:none; padding:0.5rem 1rem; border-radius:8px; transition:all 0.3s; background:none; border:none; cursor:pointer; font-size:1rem; }
        .nav-links a:hover, .nav-links button:hover { background: rgba(255,255,255,0.1); transform:translateY(-2px);}
        .btn-primary { background: linear-gradient(45deg,#ff6b6b,#ee5a6f)!important; padding:0.7rem 1.5rem!important; font-weight:bold; }
        .btn-secondary { background: linear-gradient(45deg,#4CAF50,#45a049)!important; padding:0.7rem 1.5rem!important; font-weight:bold; }

        .hero { text-align:center; padding:4rem 2rem; animation: fadeIn 1s; }
        .hero h1 { font-size:3.5rem; margin-bottom:1rem; text-shadow:0 0 20px rgba(0,0,0,0.5);}
        .hero p { font-size:1.3rem; margin-bottom:2rem; opacity:0.9; }

        .server-ip { background: rgba(0,0,0,0.4); padding:1.5rem; border-radius:15px; display:inline-block; margin:2rem 0; backdrop-filter:blur(10px);}
        .server-ip h3 { color:#ffd700; margin-bottom:0.5rem;}
        .ip-container { display:flex; align-items:center; gap:1rem; justify-content:center; }
        .ip-text { font-size:2rem; font-weight:bold; color:#4CAF50; }
        .copy-btn { background:#4CAF50; border:none; padding:0.8rem 1.5rem; border-radius:8px; color:white; cursor:pointer; transition:all 0.3s; font-weight:bold; }
        .copy-btn:hover { background:#45a049; transform:scale(1.05); }

        .server-status, .game-modes, .player-list, .leaderboard, .discord-widget {
            background: rgba(0,0,0,0.3); padding:2rem; border-radius:15px; margin:2rem auto; max-width:600px; backdrop-filter:blur(10px);
        }
        .server-status div, .game-modes div, .player-list div, .leaderboard div { margin-bottom:0.5rem; }

        .namemc-widget { text-align:center; margin-top:2rem; }
        .namemc-widget h3 { color:#ffd700; margin-bottom:1rem; }

        @keyframes fadeIn { from{opacity:0;transform:scale(0.9);} to{opacity:1;transform:scale(1);} }

    </style>
</head>
<body>

<nav>
    <div class="logo">⛏️ CRAFTPICK NETWORK</div>
    <div class="nav-links">
        <button class="btn-secondary" onclick="window.open('https://serveur-prive.net/minecraft/craftpickv2','_blank')">🗳️ Voter / ServeurPrive</button>
        <button class="btn-primary" onclick="window.location.href='login-register.html'">👤 Se Connecter</button>
        <button class="btn-primary" id="logoutBtn" onclick="logout()" style="display: none;">🚪 Se Déconnecter</button>
        <button class="btn-primary" onclick="window.open('https://discord.gg/craftpick','_blank')" style="background: linear-gradient(45deg,#5865F2,#4752C4) !important;">💬 Discord</button>
    </div>
</nav>

<div class="hero">
    <h1>Bienvenue sur Craftpick Network</h1>
    <p>Le meilleur serveur Minecraft 1.8.8 - BedWars & SpeedBridge !</p>

    <div class="server-ip">
        <h3>🎮 Rejoignez-nous maintenant !</h3>
        <div class="ip-container">
            <span class="ip-text">craftpick.fr</span>
            <button class="copy-btn" onclick="copyIP()">📋 Copier l'IP</button>
        </div>
    </div>

    <div class="server-status">
        <div id="statusIndicator" class="status-online pulse">⏳ Connexion à l'API...</div>
        <div class="player-count" id="playerCount">- / - joueurs</div>
        <div id="motd">Chargement...</div>
        <div class="api-status" id="apiStatus">API: Initialisation...</div>
    </div>

    <div class="game-modes">
        <h3>🎲 Modes de jeu</h3>
        <div id="modesList">Chargement...</div>
    </div>

    <div class="player-list">
        <h3>🧑‍🤝‍🧑 Joueurs en ligne</h3>
        <div id="playersOnline">Chargement...</div>
    </div>

    <div class="leaderboard">
        <h3>🏆 Classement</h3>
        <div id="leaderboardList">Chargement...</div>
    </div>

    <div class="discord-widget">
        <h3>💬 Discord</h3>
        <iframe src="https://discord.com/widget?id=123456789012345678&theme=dark" width="100%" height="300" allowtransparency="true" frameborder="0" sandbox="allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts"></iframe>
    </div>

    <div class="namemc-widget">
        <h3>📊 Statistiques NameMC</h3>
        <iframe style="width:728px;height:90px;max-width:100%;border:none;display:block;margin:auto" src="https://fr.namemc.com/server/craftpick.fr/embed" width="728" height="90"></iframe>
    </div>

</div>

<script>
    function copyIP() {
        navigator.clipboard.writeText('craftpick.fr').then(() => {
            alert('IP copiée !');
        });
    }

    function logout() {
        // Supprime les données de connexion
        localStorage.removeItem('craftpickUser'); // Clé correcte utilisée dans login-register.html
        sessionStorage.clear(); // Efface la session
        alert('Vous avez été déconnecté.');
        // Recharge la page pour masquer le bouton et permettre une nouvelle connexion
        window.location.reload();
    }

    // Vérifier l'état de connexion au chargement
    function checkLoginStatus() {
        const user = localStorage.getItem('craftpickUser');
        const logoutBtn = document.getElementById('logoutBtn');
        if (user) {
            logoutBtn.style.display = 'inline-block'; // Affiche le bouton si connecté
        } else {
            logoutBtn.style.display = 'none'; // Masque le bouton si non connecté
        }
    }

    // Simulation API pour modes, joueurs et leaderboard
    document.addEventListener('DOMContentLoaded', () => {
        checkLoginStatus(); // Vérifie l'état au chargement

        // Modes
        const modes = ['BedWars', 'Duels', 'SkyWars', 'SpeedBridge', 'BuildBattle'];
        document.getElementById('modesList').innerHTML = modes.map(m => '• ' + m).join('<br>');

        // Joueurs en ligne
        const players = ['Alex', 'Steve', 'Herobrine', 'Notch', 'Claire'];
        document.getElementById('playersOnline').innerHTML = players.join('<br>');

        // Leaderboard
        const leaderboard = [
            {pseudo:'Alex', points:1500},
            {pseudo:'Steve', points:1200},
            {pseudo:'Claire', points:1000},
            {pseudo:'Notch', points:800},
            {pseudo:'Herobrine', points:500}
        ];
        document.getElementById('leaderboardList').innerHTML = leaderboard.map((p,i)=>`${i+1}. ${p.pseudo} - ${p.points} pts`).join('<br>');

        // Statut serveur
        document.getElementById('statusIndicator').textContent = '✅ Serveur en ligne';
        document.getElementById('playerCount').textContent = `${players.length} / 100 joueurs`;
        document.getElementById('motd').textContent = 'Bienvenue sur Craftpick Network!';
        document.getElementById('apiStatus').textContent = 'API: Connectée';
    });
</script>

</body>
</html>
